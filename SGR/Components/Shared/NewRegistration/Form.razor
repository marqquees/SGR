@using SGR.Models

<div class="card mb-4">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Controlo</h5>
    </div>
    <div class="card-body">
        <div class="row g-3">
            <div class="col-md-4">
                <label class="form-label fw-bold">Data do Registro</label>
                <InputDate @bind-Value="Equipment.DateRegister" class="form-control" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-bold">Estado do Equipamento</label>
                <InputSelect @bind-Value="Equipment.State" class="form-select">
                    @foreach (var state in RegistrationOption.State)
                    {
                        <option>@state</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(() => Equipment.State)" class="text-danger small" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-bold">Responsável</label>
                <InputSelect @bind-Value="Equipment.Responsible" class="form-select">
                    @foreach (var responsible in RegistrationOption.Responsible)
                    {
                        <option>@responsible</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(() => Equipment.Responsible)" class="text-danger small" />
            </div>
        </div>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Detalhes do Equipamento</h5>
    </div>
    <div class="card-body">
        <div class="row g-3">
            <div class="col-md-4">
                <label class="form-label fw-bold">Cliente</label>
                <InputSelect @bind-Value="Equipment.Customer" class="form-select">
                    @foreach (var customer in RegistrationOption.Customer)
                    {
                        <option>@customer</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(() => Equipment.Customer)" class="text-danger small" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-bold">Utilizador</label>
                <InputText @bind-Value="Equipment.User" class="form-control" />
                <ValidationMessage For="@(() => Equipment.User)" class="text-danger small" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-bold">Categoria</label>
                <InputSelect @bind-Value="Equipment.Category" class="form-select">
                    @foreach (var category in RegistrationOption.Category)
                    {
                        <option>@category</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(() => Equipment.Category)" class="text-danger small" />
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-4">
                <label class="form-label fw-bold">Marca</label>
                <InputSelect @bind-Value="Equipment.Brand" class="form-select">
                    @foreach (var brand in RegistrationOption.Brand)
                    {
                        <option>@brand</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(() => Equipment.Brand)" class="text-danger small" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-bold">Modelo</label>
                <InputText @bind-Value="Equipment.Model" class="form-control" />
                <ValidationMessage For="@(() => Equipment.Model)" class="text-danger small" />
            </div>

            <div class="col-md-4">
                <label class="form-label fw-bold">Número de Série</label>
                <InputText @bind-Value="Equipment.SerialNumber" class="form-control" />
                <ValidationMessage For="@(() => Equipment.SerialNumber)" class="text-danger small" />
            </div>
        </div>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Especificações Técnicas</h5>
    </div>
    <div class="card-body">
        <div class="row g-2">
            <div class="col-md-3">
                <label class="form-label fw-bold">Processador</label>
                <InputText @bind-Value="Equipment.Processor" class="form-control" />
                <ValidationMessage For="@(() => Equipment.Processor)" class="text-danger small" />
            </div>

            <div class="col-md-3">
                <label class="form-label fw-bold">Memória RAM</label>
                <InputText @bind-Value="Equipment.MemoryRAM" class="form-control" />
                <ValidationMessage For="@(() => Equipment.MemoryRAM)" class="text-danger small" />
            </div>

            <div class="col-md-3">
                <label class="form-label fw-bold">Armazenamento</label>
                <InputText @bind-Value="Equipment.Storage" class="form-control" />
                <ValidationMessage For="@(() => Equipment.Storage)" class="text-danger small" />
            </div>

            <div class="col-md-3">
                <label class="form-label fw-bold">Sistema Operativo</label>
                <InputText @bind-Value="Equipment.OperatingSystem" class="form-control" />
                <ValidationMessage For="@(() => Equipment.OperatingSystem)" class="text-danger small" />
            </div>
        </div>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Manutenção</h5>
    </div>
    <div class="card-body">
        <div class="row g-4">
            <div class="col-12">
                <label class="form-label fw-bold">Observações</label>
                <InputTextArea @bind-Value="Equipment.Note" class="form-control" rows="5"
                               placeholder="Observações adicionais, entre outras..." />
            </div>
        </div>
    </div>
</div>

@code {

    [Parameter] public Equipment Equipment { get; set; } = new();

    protected override void OnInitialized()
    {
        if (Equipment.DateRegister == default(DateOnly))
            Equipment.DateRegister = DateOnly.FromDateTime(DateTime.Today);
    }
}